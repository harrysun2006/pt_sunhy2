<?php

/**
 * 定义有关地理运算的方法
 * @author sunhy sunhy@peptalk.cn
 */
class Better_Geo {

  // 中国的边界多边形, 共916个点, 元素格式为array(经度x10, 维度x10), 为提高精度经纬度都x10
  public static $CHINA_BOUNDx10 = array(
    array(1313.1678870, 434.7981010), array(1313.1664360, 434.7946397), array(1313.1664360, 434.7946397),
    array(1313.1911840, 433.9910454), array(1313.1910350, 433.9853435), array(1311.4514750, 429.3839489),
    array(1311.4409610, 429.3644476), array(1306.4581080, 424.2353977), array(1306.4479440, 424.2273192),
    array(1297.2514190, 424.4068008), array(1297.2514190, 424.4068008), array(1297.1563210, 424.3181940),
    array(1297.1408800, 424.3047390), array(1297.1228270, 424.2912109), array(1282.0806230, 414.1256319),
    array(1281.5724750, 413.8509466), array(1281.5252790, 413.8377877), array(1281.4401580, 413.8271621),
    array(1281.4401580, 413.8271621), array(1281.1809620, 413.6453016), array(1281.1715110, 413.6409044),
    array(1281.1622070, 413.6393906), array(1262.5558300, 411.5180825), array(1262.5558300, 411.5180825),
    array(1260.2475020, 409.0291286), array(1260.2215190, 409.0112386), array(1254.1893610, 406.2764351),
    array(1250.3860620, 404.5876004), array(1247.1190030, 403.1371773), array(1245.7826360, 402.5698810),
    array(1245.7826360, 402.5698810), array(1241.5074460, 396.8975694), array(1232.4171010, 390.2147163),
    array(1232.2941430, 390.1476700), array(1231.6913600, 390.1039006), array(1231.3058320, 390.1007516),
    array(1231.3058320, 390.1007516), array(1215.0423470, 387.2056612), array(1212.5515840, 386.9828612),
    array(1212.5515840, 386.9828612), array(1212.2699250, 386.8702663), array(1211.9017410, 386.7813341),
    array(1211.4108620, 386.8381376), array(1211.0869520, 386.9278834), array(1210.8744550, 387.1179580),
    array(1209.3944070, 388.8704318), array(1209.2937770, 389.0828314), array(1209.2153970, 389.3400772),
    array(1209.2042290, 389.5414307), array(1211.6240830, 395.6177110), array(1211.8917560, 396.1091470),
    array(1214.1631460, 398.5979330), array(1214.5649470, 399.0222331), array(1214.7569170, 399.1808866),
    array(1214.8211990, 399.2340117), array(1221.0932180, 404.0691569), array(1221.0932180, 404.0691569),
    array(1202.1688370, 400.8467475), array(1202.1688370, 400.8467475), array(1194.4852730, 394.2961398),
    array(1191.4855250, 392.0258897), array(1191.1538650, 391.8390597), array(1188.8851070, 390.6373560),
    array(1188.8077060, 390.6081110), array(1188.1195400, 390.3484268), array(1186.7906630, 390.0578507),
    array(1186.3074980, 390.0941787), array(1186.3074980, 390.0941787), array(1192.8374130, 377.9447699),
    array(1193.0691730, 377.3374295), array(1193.1735030, 376.8282905), array(1193.1773110, 376.6754854),
    array(1193.1850310, 376.3652996), array(1192.2347550, 371.7677464), array(1192.2347550, 371.7677464),
    array(1207.9092420, 383.3406523), array(1207.9092420, 383.3406523), array(1208.1977570, 383.7425835),
    array(1208.5786320, 384.1728706), array(1208.7984480, 384.4211317), array(1208.9141950, 384.5518392),
    array(1209.3890900, 384.6099121), array(1225.0096810, 374.7847248), array(1225.0096810, 374.7847248),
    array(1226.3216830, 374.7134657), array(1226.9251660, 374.5755533), array(1227.1582960, 374.1748347),
    array(1227.2616100, 373.9971056), array(1227.0874810, 373.0472765), array(1226.9797690, 372.5071399),
    array(1226.8726040, 371.9697809), array(1225.7420000, 369.0845486), array(1225.3030920, 368.6336968),
    array(1224.5819170, 368.1723577), array(1223.8879010, 367.7558595), array(1213.5643530, 361.9580321),
    array(1212.5488740, 361.8284722), array(1212.4800540, 361.8197753), array(1210.0484050, 361.7667589),
    array(1210.0484050, 361.7667589), array(1209.2634820, 358.7848716), array(1199.0974720, 349.6271320),
    array(1198.8002170, 349.6043591), array(1198.4967690, 349.5813586), array(1194.5783830, 350.3719185),
    array(1194.5783830, 350.3719185), array(1203.2118540, 343.7483508), array(1203.4183920, 343.5858481),
    array(1203.5270350, 343.4720269), array(1207.0209990, 336.0025145), array(1207.0209990, 336.0025145),
    array(1218.4914140, 320.7637153), array(1218.4914140, 320.7637153), array(1218.8704240, 320.4702446),
    array(1219.5543920, 319.9173718), array(1228.3725590, 307.7253118), array(1228.5946040, 307.3673096),
    array(1229.4287870, 305.1622150), array(1229.4287870, 305.1622150), array(1229.6677490, 304.8051596),
    array(1229.7474360, 304.5432021), array(1229.8191330, 303.6854141), array(1229.8589000, 302.9785320),
    array(1229.8801980, 302.4900554), array(1229.9225970, 301.4774822), array(1229.8667370, 301.3581679),
    array(1223.0545030, 288.6348769), array(1222.9557670, 288.5361028), array(1222.5402370, 288.4467393),
    array(1222.4036160, 288.4174508), array(1222.2460860, 288.4077258), array(1221.5576770, 288.4285996),
    array(1220.6416100, 288.4879963), array(1220.1476210, 288.5459526), array(1220.1476210, 288.5459526),
    array(1219.7952230, 284.2709472), array(1219.7628360, 284.0018637), array(1219.7252330, 283.9408096),
    array(1211.6788950, 274.1328940), array(1211.5336670, 274.0140950), array(1211.0667290, 273.6706164),
    array(1210.7357720, 273.5381402), array(1210.2893450, 273.4445856), array(1210.0407990, 273.4666693),
    array(1209.4769040, 273.5169350), array(1208.7887340, 273.5799939), array(1207.7088080, 273.6812147),
    array(1207.7088080, 273.6812147), array(1209.4748910, 271.0054226), array(1209.5560870, 270.7919244),
    array(1209.5486570, 270.6371936), array(1204.2428330, 261.3292617), array(1199.1584040, 256.6360624),
    array(1199.1584040, 256.6360624), array(1199.1808270, 256.6003281), array(1199.6188800, 254.5916992),
    array(1199.5830860, 254.1375218), array(1199.5675620, 253.9406547), array(1197.9663490, 252.3126600),
    array(1194.7736300, 249.6865344), array(1184.8169950, 243.6832358), array(1184.8169950, 243.6832358),
    array(1173.5147810, 232.2047256), array(1173.3385470, 232.0578532), array(1173.0938420, 231.9401532),
    array(1172.7611950, 231.9104138), array(1172.5071050, 231.9201035), array(1168.7944440, 233.4695638),
    array(1168.7944440, 233.4695638), array(1168.4898250, 232.0214165), array(1168.4215630, 231.9042888),
    array(1166.1833600, 229.4854194), array(1166.1247210, 229.4316297), array(1165.9391110, 229.2850696),
    array(1165.3832110, 228.8658069), array(1165.1008360, 228.6809626), array(1164.8282120, 228.5938531),
    array(1158.9671850, 227.0184108), array(1155.5894800, 226.1445015), array(1155.1901940, 226.1161946),
    array(1154.8592340, 226.1171848), array(1150.8267660, 226.9731119), array(1150.8267660, 226.9731119),
    array(1149.3675460, 225.2944553), array(1149.2697560, 225.1966880), array(1147.1701580, 223.8065187),
    array(1147.0778180, 223.7600531), array(1140.3361110, 225.0555555), array(1133.4519320, 218.7652372),
    array(1133.4519320, 218.7652372), array(1129.2890460, 215.8059298), array(1129.0684730, 215.6491672),
    array(1128.7994980, 215.5331463), array(1128.7302930, 215.5033256), array(1128.2158770, 215.4657794),
    array(1121.8809490, 215.0713079), array(1114.8679500, 214.7981552), array(1114.8679500, 214.7981552),
    array(1106.0457980, 202.9711860), array(1103.1601270, 201.7733941), array(1102.7764840, 201.6154486),
    array(1102.6595020, 201.5800508), array(1102.5888210, 201.5641221), array(1102.2512690, 201.5260824),
    array(1101.6917800, 201.4735326), array(1101.3316590, 201.4466444), array(1101.3316590, 201.4466444),
    array(1101.2593400, 201.4319364), array(1101.1559600, 201.4212620), array(1098.4001080, 201.1415390),
    array(1098.2871960, 201.1354005), array(1098.2137910, 201.1337919), array(1091.2506810, 209.1498725),
    array(1091.0491620, 209.4247422), array(1090.8475020, 209.7361112), array(1087.7571810, 215.0373183),
    array(1087.7571810, 215.0373183), array(1082.2291230, 214.7945504), array(1082.1385120, 214.7976129),
    array(1073.8496670, 215.9406088), array(1073.6661130, 215.9745796), array(1070.1229630, 218.2477105),
    array(1070.0969620, 218.2719916), array(1069.3436960, 219.2807808), array(1069.3375760, 219.2936388),
    array(1069.2512150, 219.4975398), array(1069.2512150, 219.4975398), array(1066.9963920, 219.5668376),
    array(1066.9856150, 219.5697374), array(1055.7226260, 230.6956299), array(1054.9965960, 232.0275663),
    array(1054.9917970, 232.0418945), array(1054.9930960, 232.0720702), array(1054.9930960, 232.0720702),
    array(1047.2843530, 228.1724394), array(1040.0797770, 225.1745796), array(1039.7732560, 225.0598607),
    array(1039.7515980, 225.0554309), array(1039.7423370, 225.0539767), array(1039.6541070, 225.0443360),
    array(1039.6450820, 225.0453341), array(1039.6014030, 225.0646293), array(1039.5745520, 225.0801892),
    array(1039.1637780, 225.3296143), array(1038.7864850, 225.6336642), array(1038.7581330, 225.6588786),
    array(1036.4439070, 227.9176081), array(1036.4439070, 227.9176081), array(1035.7304930, 226.4121581),
    array(1035.7213510, 226.3991671), array(1035.3577660, 225.9542155), array(1035.3470300, 225.9426705),
    array(1035.3362930, 225.9354683), array(1035.3209230, 225.9296873), array(1030.7511640, 224.4613742),
    array(1030.7203530, 224.4532796), array(1030.3167510, 224.4128689), array(1018.9906390, 223.7582383),
    array(1018.9560980, 223.7678876), array(1018.6798720, 223.8593830), array(1018.6558050, 223.8702256),
    array(1018.3781550, 224.1125434), array(1017.6376490, 225.0445909), array(1017.6376490, 225.0445909),
    array(1018.3616920, 216.1887967), array(1018.4418970, 212.5358914), array(1018.4176000, 212.0885009),
    array(1018.3962860, 212.0429715), array(1017.6120550, 211.4085476), array(1017.5874270, 211.3994954),
    array(1017.2251740, 211.4043131), array(1017.1905380, 211.4068250), array(1012.8708820, 211.7378553),
    array(1001.6895830, 214.8279650), array(1001.5172800, 214.9652507), array(1001.5172800, 214.9652507),
    array(1001.3388210, 215.0465549), array(1001.3144450, 215.0581217), array(1001.2915850, 215.0725669),
    array(991.6771703, 221.4725883), array(991.6540882, 221.4954808), array(991.6079047, 221.5470678),
    array(991.6018121, 221.5542265), array(991.5618112, 221.6015598), array(991.5571560, 221.6101345),
    array(991.2847575, 230.9806669), array(991.2847575, 230.9806669), array(991.1361844, 230.9033937),
    array(991.1105090, 230.8916830), array(991.0539959, 230.8909424), array(988.8983804, 231.7558595),
    array(976.4659154, 238.4007894), array(975.3148411, 239.2478678), array(975.3054798, 239.2550104),
    array(975.2977240, 239.2636965), array(975.2930882, 239.2751249), array(975.2899659, 239.2837809),
    array(975.2884413, 239.3110107), array(975.2914822, 239.3769967), array(975.2930910, 239.4000215),
    array(975.2961994, 239.4157471), array(975.3023626, 239.4358915), array(976.6378228, 243.0852809),
    array(976.6378228, 243.0852809), array(975.3116671, 244.3373264), array(975.3067896, 244.3430095),
    array(975.3002521, 244.4186902), array(975.4729653, 247.3886366), array(977.2141572, 250.8120742),
    array(977.2189723, 250.8211804), array(978.3651258, 252.6848769), array(978.3740343, 252.6979819),
    array(981.6640870, 256.2483370), array(981.6729978, 256.2539875), array(985.3190459, 258.4205566),
    array(986.9420761, 259.0490044), array(986.9420761, 259.0490044), array(986.8990883, 259.0722357),
    array(986.1440129, 259.6873184), array(985.8096980, 260.6934408), array(982.2068009, 277.1158881),
    array(982.2068009, 277.1239283), array(982.2361409, 277.2435140), array(982.3381400, 277.4922799),
    array(982.3381400, 277.4922799), array(970.9353351, 277.3760768), array(970.8954128, 277.3794624),
    array(970.6273927, 277.4244847), array(963.6895506, 281.1821778), array(963.6895506, 281.1821778),
    array(945.3718832, 276.0142688), array(945.3718832, 276.0142688), array(938.2986625, 270.2416558),
    array(938.2821424, 270.2300429), array(938.2574137, 270.2167753), array(938.2130426, 270.1931043),
    array(938.1883842, 270.1821369), array(936.1184219, 269.4749539), array(935.9968562, 269.4462699),
    array(935.8754369, 269.4176621), array(935.3903917, 269.3324273), array(935.3202418, 269.3211346),
    array(934.6766220, 269.2538547), array(930.7846759, 268.8566921), array(930.7078615, 268.8506076),
    array(928.0192165, 268.9481962), array(927.9456162, 268.9534992), array(927.8935684, 268.9653265),
    array(927.7969997, 269.0012939), array(927.7449976, 269.0249297), array(927.6761395, 269.0623184),
    array(927.6761395, 269.0623184), array(921.6772948, 268.5063531), array(921.2216146, 268.4948486),
    array(921.1769668, 268.4944742), array(921.0656983, 268.5029244), array(912.0006752, 279.8143609),
    array(912.0006752, 279.8143609), array(911.5294812, 278.9123238), array(911.1548179, 278.4993244),
    array(911.1150854, 278.4648708), array(911.1064398, 278.4603923), array(911.0917562, 278.4572698),
    array(911.0710423, 278.4555555), array(911.0073513, 278.4550266), array(893.3010498, 278.5103544),
    array(893.0450005, 278.5158936), array(893.0450005, 278.5158936), array(891.7998399, 273.7258056),
    array(891.5639619, 273.1969617), array(891.5539903, 273.1763754), array(890.6727864, 272.3555312),
    array(889.9707873, 272.1113933), array(889.9387884, 272.1012965), array(889.9102296, 272.1026095),
    array(874.0547146, 278.2944253), array(874.0528864, 278.3087348), array(874.0343505, 278.4921739),
    array(874.0343505, 278.4921739), array(873.6327691, 278.2524576), array(873.5857502, 278.2463678),
    array(872.2823078, 278.1458116), array(871.7399659, 278.1795437), array(860.6733887, 278.9644801),
    array(860.3964491, 279.0130454), array(860.3798098, 279.0162053), array(860.0109429, 279.0903673),
    array(859.9916530, 279.0996852), array(859.8889622, 279.1495170), array(859.8555962, 279.1659449),
    array(859.8253742, 279.1818875), array(859.4968968, 279.3712050), array(856.0805205, 282.5228054),
    array(855.5844158, 283.0769315), array(855.5844158, 283.0769315), array(855.5660647, 283.0725639),
    array(853.8010958, 282.7521513), array(852.7561657, 282.8364963), array(851.2361815, 283.3237739),
    array(851.2235215, 283.3296062), array(842.3015001, 288.8995794), array(842.2906766, 288.9075874),
    array(842.2849638, 288.9149470), array(839.4265163, 293.1391196), array(839.4265163, 293.1391196),
    array(836.4857176, 291.5938803), array(836.4661593, 291.5857123), array(836.4596597, 291.5833604),
    array(836.3990803, 291.5617133), array(836.3880073, 291.5593236), array(836.3684545, 291.5562933),
    array(836.3606553, 291.5551135), array(836.3514946, 291.5544598), array(836.3384303, 291.5560763),
    array(836.3220950, 291.5611167), array(835.8208905, 291.7365478), array(835.3869766, 292.0087729),
    array(821.9642689, 300.6560166), array(821.9642689, 300.6560166), array(821.7886473, 300.6255074),
    array(812.3152670, 300.0384629), array(812.2770564, 300.0366972), array(812.2161268, 300.0348959),
    array(811.5468288, 300.0693578), array(811.5325790, 300.0721545), array(811.3328207, 300.1298530),
    array(811.3035375, 300.1433158), array(811.2834118, 300.1545790), array(803.4880156, 305.1794135),
    array(803.4880156, 305.1794135), array(803.4730358, 305.1793052), array(801.3482204, 305.5468805),
    array(801.3326742, 305.5501818), array(801.2694498, 305.5662870), array(801.1623861, 305.6103108),
    array(790.9653892, 309.9187609), array(790.0870252, 310.4075032), array(787.8124673, 313.0828722),
    array(787.8012723, 313.0963894), array(787.7003501, 313.2350776), array(787.5216826, 313.6297148),
    array(787.2707140, 314.8199274), array(787.2251357, 315.0369495), array(787.2251357, 315.0369495),
    array(784.4889187, 321.4917343), array(784.4818467, 321.5105632), array(784.3082003, 322.0099934),
    array(783.9585531, 325.3094264), array(783.9615317, 325.3317927), array(783.9684706, 325.3576577),
    array(789.2043539, 333.9354410), array(789.2043539, 333.9354410), array(788.4640596, 334.1728515),
    array(788.3829725, 334.2377195), array(787.4334311, 335.5055015), array(787.4219861, 335.5216554),
    array(787.3956543, 335.5647703), array(786.8432100, 336.5233804), array(782.0497343, 347.3337402),
    array(780.8590360, 351.0114611), array(780.8590360, 351.0114611), array(780.8145536, 350.9555636),
    array(780.7955432, 350.9346137), array(780.7818792, 350.9251792), array(780.7699732, 350.9249457),
    array(763.2960665, 358.3449816), array(763.2960665, 358.3449816), array(763.1606173, 358.3194689),
    array(761.7570067, 358.1912650), array(761.7261231, 358.1885226), array(761.6267630, 358.2524551),
    array(748.8624050, 369.3665039), array(748.4322075, 370.1563232), array(748.4332003, 370.1907090),
    array(748.4332003, 370.1907090), array(747.4366946, 370.2118219), array(745.6973960, 370.3171929),
    array(745.0203640, 370.6468098), array(744.9905707, 370.6763183), array(744.6473011, 371.3054662),
    array(738.0570368, 386.1253175), array(738.0570368, 386.1253175), array(737.4789902, 387.3078070),
    array(735.0338024, 392.8264459), array(734.9093154, 393.7825357), array(734.9204129, 393.8254014),
    array(739.4037216, 400.3210231), array(740.3552816, 400.9379314), array(740.4476727, 400.9955838),
    array(745.9383842, 402.8125137), array(746.8332032, 402.9898735), array(746.8332032, 402.9898735),
    array(746.9357992, 403.4972573), array(748.1957927, 405.0542995), array(748.2174993, 405.0786976),
    array(748.2728460, 405.1286972), array(748.4124893, 405.2374320), array(755.8493843, 406.6092476),
    array(755.9012205, 406.6121201), array(765.7054170, 405.5944552), array(765.7054170, 405.5944552),
    array(766.4674752, 407.6416909), array(767.5702879, 409.5373591), array(768.7324732, 410.2548477),
    array(768.7861191, 410.2764569), array(769.9095107, 410.7107177), array(781.6615368, 413.8402614),
    array(781.9199300, 413.9030815), array(782.0154568, 413.9244193), array(782.3229085, 413.9831271),
    array(782.3950442, 413.9943794), array(782.4321155, 413.9851589), array(782.6449515, 413.9316541),
    array(782.7099528, 413.9141629), array(782.8249049, 413.8787951), array(782.8249049, 413.8787951),
    array(782.8717043, 413.9066162), array(793.2577419, 418.1167889), array(798.8467148, 420.3489989),
    array(798.8762124, 420.3573648), array(799.1642606, 420.4311441), array(799.4510771, 420.4811576),
    array(799.5050700, 420.4832708), array(800.4179527, 420.4989094), array(800.4910590, 420.4990585),
    array(800.7921877, 420.4691595), array(800.7921877, 420.4691595), array(801.6401477, 426.2978297),
    array(805.1204700, 438.9851480), array(805.1204700, 438.9851480), array(804.9213270, 439.1636690),
    array(804.7455106, 439.3830973), array(804.7417858, 439.3889240), array(798.8897761, 448.9884631),
    array(798.8468044, 449.0881457), array(798.8516084, 449.1293296), array(798.8647134, 449.1540148),
    array(799.0773221, 449.2979573), array(800.6434705, 450.3544025), array(800.6548637, 450.3599095),
    array(800.9357831, 450.4846678), array(800.9560085, 450.4893228), array(816.9615072, 453.6918104),
    array(816.9956895, 453.6971570), array(817.0079291, 453.6966390), array(817.2694200, 453.6307699),
    array(817.2694200, 453.6307699), array(828.4219535, 468.7409612), array(828.7797228, 469.0772407),
    array(828.7797228, 469.0772407), array(830.2836046, 472.1653238), array(830.3080565, 472.2103978),
    array(830.3219266, 472.2232314), array(830.3483587, 472.2363281), array(830.5825494, 472.2792181),
    array(830.6218074, 472.2857015), array(831.3425239, 472.3398029), array(831.5415828, 472.3445989),
    array(847.2805583, 470.1213950), array(847.3070339, 470.1123128), array(847.7515435, 469.8663058),
    array(847.7855767, 469.8442465), array(847.7855767, 469.8442465), array(855.8635578, 481.9063070),
    array(857.1248615, 483.6225776), array(857.1355603, 483.6325818), array(857.5968941, 484.0504394),
    array(857.7692709, 484.1405057), array(857.9215443, 484.2025552), array(858.5395289, 484.3509767),
    array(858.5812204, 484.3600558), array(858.6471923, 484.3638455), array(859.1530543, 484.3775606),
    array(860.0283829, 484.3948431), array(860.0283829, 484.3948431), array(868.6493028, 491.1766846),
    array(868.8205754, 491.2928494), array(868.8912026, 491.3239962), array(868.9732341, 491.3405733),
    array(871.2528020, 491.5371147), array(877.2455214, 491.7822510), array(877.3770264, 491.7721599),
    array(877.4067193, 491.7672365), array(877.4831027, 491.7414007), array(877.5759221, 491.6960313),
    array(877.5759221, 491.6960313), array(877.8736680, 491.7964384), array(877.8860679, 491.7939047),
    array(878.1680961, 491.7053684), array(878.2217097, 491.6771919), array(892.3767065, 479.7700875),
    array(892.3767065, 479.7700875), array(892.5064073, 479.8791719), array(892.5615640, 479.9132433),
    array(892.9416477, 480.1332413), array(892.9727595, 480.1473904), array(893.8434897, 480.4634493),
    array(893.8717338, 480.4645913), array(895.5230197, 480.3733373), array(895.7685791, 480.3477919),
    array(895.8118247, 480.3378552), array(900.5908529, 478.8703288), array(900.8478244, 478.7226019),
    array(903.5019531, 476.7557753), array(903.6805065, 476.6127496), array(908.5265111, 469.8987711),
    array(908.5658527, 469.8037706), array(908.5658527, 469.8037706), array(908.6520265, 469.7647706),
    array(908.9178275, 469.6359701), array(909.0207465, 469.5690728), array(909.2201334, 469.3940432),
    array(910.4855033, 467.2337782), array(910.7568739, 465.6730847), array(913.0309924, 451.3002929),
    array(913.0309924, 451.3002929), array(914.2850097, 451.5755805), array(914.3167725, 451.5817273),
    array(928.8992026, 450.4718507), array(931.7001006, 450.1440238), array(931.7208874, 450.1410374),
    array(931.9818142, 450.0609509), array(932.0924099, 450.0252470), array(932.0924099, 450.0252470),
    array(933.2409100, 449.9664252), array(933.7021809, 449.9077066), array(935.0786728, 449.6954508),
    array(937.1191542, 448.9819689), array(942.1359564, 446.6957466), array(949.4513942, 442.9023735),
    array(949.7133845, 442.6950303), array(949.7133845, 442.6950303), array(954.0178085, 442.9662517),
    array(954.0947593, 442.9583224), array(954.1396538, 442.9423341), array(954.2637371, 442.8228571),
    array(963.4169571, 429.1845298), array(963.4169571, 429.1845298), array(982.3020181, 426.5362848),
    array(982.3020181, 426.5362848), array(999.7324759, 426.5007866), array(1000.8241510, 426.4574761),
    array(1001.2688970, 426.4389620), array(1001.4737030, 426.4301946), array(1001.4737030, 426.4301946),
    array(1003.2123320, 426.8897650), array(1003.2589980, 426.8894258), array(1003.7690940, 426.8780056),
    array(1004.0364640, 426.8717341), array(1004.4983230, 426.8586831), array(1005.0177840, 426.8432998),
    array(1008.4082570, 426.7372313), array(1008.4422990, 426.7356227), array(1008.5103950, 426.7323188),
    array(1008.5491620, 426.7255154), array(1018.0142960, 425.0567055), array(1018.0288410, 425.0525310),
    array(1018.0533420, 425.0307483), array(1018.0678030, 425.0165336), array(1018.1007460, 424.9841256),
    array(1020.1026150, 422.9727104), array(1020.1486380, 422.9245526), array(1020.1486380, 422.9245526),
    array(1027.1486060, 421.5207465), array(1038.5696480, 418.0206624), array(1038.5696480, 418.0206624),
    array(1045.2234970, 418.7602729), array(1045.2822290, 418.7656468), array(1057.5458200, 419.4885524),
    array(1057.5458200, 419.4885524), array(1065.1343420, 422.0889295), array(1065.1938800, 422.1092258),
    array(1066.0916860, 422.4113852), array(1066.5792400, 422.5561849), array(1067.7860160, 422.9104330),
    array(1074.6579070, 424.5883760), array(1074.9496480, 424.5723443), array(1075.0066110, 424.5669947),
    array(1076.2171200, 424.1253691), array(1076.2171200, 424.1253691), array(1082.4898300, 424.6404217),
    array(1095.2539610, 424.7009900), array(1095.2539610, 424.7009900), array(1110.6868620, 433.5700657),
    array(1110.6915280, 433.5719536), array(1110.7081440, 433.5780055), array(1111.7699870, 433.9200793),
    array(1111.9252420, 433.9621092), array(1111.9252420, 433.9621092), array(1114.1841740, 443.5882948),
    array(1114.2027260, 443.6550698), array(1114.2951850, 443.9663736), array(1114.3048370, 443.9912544),
    array(1114.3234080, 444.0279460), array(1115.9254480, 447.1929771), array(1116.0809520, 447.4819798),
    array(1116.2550540, 447.7900933), array(1117.4305690, 449.4246013), array(1117.5465440, 449.5668890),
    array(1117.6853300, 449.7315648), array(1117.7654650, 449.8043483), array(1118.7810440, 450.3983615),
    array(1118.9214190, 450.4720242), array(1119.7826580, 450.8569717), array(1119.8379420, 450.8751900),
    array(1119.9975720, 450.9156847), array(1120.0706460, 450.9253471), array(1120.3139950, 450.9409478),
    array(1120.4113520, 450.9468018), array(1120.4923340, 450.9487819), array(1120.4923340, 450.9487819),
    array(1120.5842290, 450.9565159), array(1120.7119330, 450.9634903), array(1124.2981500, 450.7725341),
    array(1139.4236540, 449.1388346), array(1139.4236540, 449.1388346), array(1145.4754690, 453.8593343),
    array(1145.4992650, 453.8690702), array(1145.8072890, 453.9661052), array(1145.9112140, 453.9971219),
    array(1147.4388830, 454.3964980), array(1157.5296360, 454.9761691), array(1157.5296360, 454.9761691),
    array(1164.0892600, 461.2793242), array(1165.8454860, 462.9014731), array(1165.8513510, 462.9059868),
    array(1165.9063910, 462.9435494), array(1166.0239480, 463.0230006), array(1166.0637120, 463.0449190),
    array(1168.3470890, 463.8371093), array(1168.4250490, 463.8553303), array(1173.9345810, 464.6384087),
    array(1173.9345810, 464.6384087), array(1174.2230090, 465.8320013), array(1174.9115290, 465.9976887),
    array(1174.9445830, 466.0054524), array(1183.2007410, 467.4237467), array(1189.0277750, 467.7704887),
    array(1189.0677520, 467.7679116), array(1190.1544130, 467.4671551), array(1192.6577560, 466.4359539),
    array(1192.9336620, 466.2012314), array(1192.9336620, 466.2012314), array(1179.9849340, 480.1073867),
    array(1179.9849340, 480.1073867), array(1173.8113580, 476.4311444), array(1161.0780950, 478.1101645),
    array(1161.0780950, 478.1101645), array(1159.6604710, 476.8971190), array(1159.4222500, 476.8281034),
    array(1159.3166180, 476.8966797), array(1156.2681990, 478.9075657), array(1156.1442330, 478.9899875),
    array(1156.0204400, 479.0724120), array(1155.8097660, 479.2137073), array(1155.8003960, 479.2406683),
    array(1155.2922040, 481.1191432), array(1155.2892470, 481.5373374), array(1165.7633160, 496.5246527),
    array(1165.7633160, 496.5246527), array(1166.0840820, 496.9735135), array(1166.3233720, 497.2942953),
    array(1166.4790090, 497.5027914), array(1167.2282630, 498.4829345), array(1184.6269010, 498.3673667),
    array(1184.6423340, 498.3672310), array(1184.6481090, 498.3633788), array(1184.6596540, 498.3517929),
    array(1184.6598150, 498.3515298), array(1184.6680180, 498.3345948), array(1184.6816840, 498.2905410),
    array(1184.6816840, 498.2905410), array(1184.8974690, 498.7282174), array(1197.6493760, 512.1740504),
    array(1197.6631670, 512.1825385), array(1197.6631670, 512.1825385), array(1200.3087700, 527.7048583),
    array(1200.3129100, 527.7259195), array(1200.3371880, 527.7614095), array(1200.3603110, 527.7798639),
    array(1200.3929150, 527.7982993), array(1204.3781250, 529.9896675), array(1204.3781250, 529.9896675),
    array(1204.5062150, 530.0844511), array(1208.2092960, 532.6884927), array(1208.2291530, 532.7004178),
    array(1208.8316870, 532.9443195), array(1221.7069770, 534.7205756), array(1222.9386610, 534.7934598),
    array(1222.9386610, 534.7934598), array(1223.2041800, 534.9848522), array(1223.4171330, 535.0201065),
    array(1223.4832170, 535.0310439), array(1232.8135010, 535.6347574), array(1235.2260740, 535.5837971),
    array(1236.1387230, 535.5134656), array(1236.3237820, 535.4695231), array(1238.6633730, 534.8958957),
    array(1238.9500620, 534.8115586), array(1241.9502170, 533.7313041), array(1241.9502170, 533.7313041),
    array(1242.1166370, 533.7625244), array(1242.2322350, 533.7827771), array(1242.4034690, 533.7948566),
    array(1251.9575820, 531.9820694), array(1252.1451580, 531.9363661), array(1256.1395210, 530.8424752),
    array(1256.2486270, 530.7889243), array(1257.4534590, 529.9264243), array(1257.5053280, 529.8803848),
    array(1259.9636170, 527.6434650), array(1259.9636170, 527.6434650), array(1260.1592910, 527.9138292),
    array(1260.2122340, 527.9547501), array(1260.3644200, 527.9918078), array(1260.4862470, 528.0003012),
    array(1260.5307070, 527.9981716), array(1260.5494490, 527.9942111), array(1260.5930070, 527.9775148),
    array(1260.7567270, 527.9014784), array(1260.7844190, 527.8882378), array(1261.0603890, 527.7559707),
    array(1261.0887400, 527.7406522), array(1261.1464220, 527.7003067), array(1261.1728460, 527.6799152),
    array(1265.6304440, 521.3150120), array(1269.8251920, 513.2864883), array(1269.8491730, 513.1860948),
    array(1269.8395670, 513.1057182), array(1269.8150820, 512.9973226), array(1269.2097330, 510.9641817),
    array(1269.2097330, 510.9641817), array(1271.2859670, 509.2821586), array(1271.3264700, 509.2447320),
    array(1271.3921740, 509.1839951), array(1271.4133930, 509.1643746), array(1272.9848520, 507.5613473),
    array(1273.0292130, 507.5159397), array(1273.0705650, 507.4736111), array(1280.5233370, 495.5951715),
    array(1280.5233370, 495.5951715), array(1284.0180720, 495.9089951), array(1285.5385230, 496.0399170),
    array(1287.5235840, 495.9464872), array(1287.5751850, 495.9437474), array(1287.5868240, 495.9431073),
    array(1287.6434760, 495.9307238), array(1294.9384470, 494.3105332), array(1294.9941520, 494.2975531),
    array(1295.0440670, 494.2847683), array(1295.1386610, 494.2478923), array(1295.2348820, 494.2019476),
    array(1297.3400230, 492.8469456), array(1298.5815020, 491.7397324), array(1298.6323190, 491.6920573),
    array(1298.9909720, 491.0773273), array(1298.9909720, 491.0773273), array(1299.0717610, 491.0710258),
    array(1306.8506840, 488.7959906), array(1306.8742460, 488.7696128), array(1306.9354520, 488.6475099),
    array(1311.8514540, 477.0299532), array(1311.8514540, 477.0299532), array(1311.9715010, 477.1037733),
    array(1312.0494300, 477.1513266), array(1312.2925320, 477.2893934), array(1312.3867430, 477.3291070),
    array(1330.4465110, 481.0081000), array(1330.4465110, 481.0081000), array(1330.5082710, 481.0887911),
    array(1330.5581600, 481.1178303), array(1331.1255970, 481.3077827), array(1341.9864040, 483.8507515),
    array(1344.5045440, 484.1387532), array(1349.2878530, 484.5282173), array(1349.2878530, 484.5282173),
    array(1350.6543240, 484.6520045), array(1350.6553880, 484.6516574), array(1350.8100990, 484.5942656),
    array(1350.9725690, 484.4323461), array(1350.8971330, 484.0232315), array(1347.8049800, 477.1568576),
    array(1340.4850530, 467.6936008), array(1340.3966830, 467.6399768), array(1340.3966830, 467.6399768),
    array(1340.3018960, 467.0678655), array(1340.2735000, 466.9459310), array(1340.1528860, 466.4389133),
    array(1339.1934460, 462.6913953), array(1339.1806560, 462.6488145), array(1339.1595870, 462.6127522),
    array(1331.4029330, 451.2726970), array(1331.3965300, 451.2681042), array(1331.0025880, 451.1105088),
    array(1331.0025880, 451.1105088), array(1331.0104920, 451.1070501), array(1331.0167830, 451.1014079),
    array(1331.0215170, 451.0958091), array(1331.0262480, 451.0901394), array(1331.0340680, 451.0788167),
    array(1331.0403290, 451.0676053), array(1331.0401800, 451.0563342), array(1331.0369660, 451.0507107),
    array(1330.4500110, 450.5833279), array(1329.7617460, 450.2349964), array(1329.5814050, 450.1800509),
    array(1329.5734370, 450.1778268), array(1312.0724770, 449.1498590), array(1312.0724770, 449.1498590),
    array(1312.0687280, 449.2189997), array(1313.1076470, 440.4516250), array(1313.2286780, 434.9271538),
    array(1313.2288680, 434.9154162), array(1313.2275340, 434.9098470), array(1313.1750000, 434.8060247),
    array(1313.1678870, 434.7981010),
  );
  
  // 点$p向x轴的射线和[$p1,$p2]线段是否有交点
  public static function isCrossed($p, $p1, $p2)
  {
    $maxy = ($p1[1] > $p2[1]) ? $p1[1] : $p2[1];
    $miny = ($p1[1] < $p2[1]) ? $p1[1] : $p2[1];
    $maxx = ($p1[0] > $p2[0]) ? $p1[0] : $p2[0];
    $r = false;
    if ($p[1] < $maxy && $p[1] >= $miny && $p[0] <= $maxx && $p1[1] != $p2[1])
    {
      $r = $p1[0] == $p2[0] || $p[0] <= $p1[0]+($p2[0]-$p1[0])*($p[1]-$p1[1])/($p2[1]-$p1[1]);
    }
    return $r;
  }
  
  // 点$p是否在多边形$poly里, $p格式为array(经度, 维度), $poly的经纬度数组要x10
  public static function isInPoly($p, $poly)
  {
    $count = 0;
    $px10 = array($p[0]*10, $p[1]*10);
    $p1 = $poly[0];
    for ($i = 1; $i <= count($poly); $i++)
    {
      $p2 = $poly[$i % count($poly)];
      if (self::isCrossed($px10, $p1, $p2)) $count++;
      $p1 = $p2;
    }
    return ($count % 2 == 1);
  }
  
  public static function isInChina($p)
  {
    return self::isInPoly($p, self::$CHINA_BOUNDx10);
  }

} 
?>